/*!
 * react-svga cjs 0.1.6
 * (c) 2020 - 2021 jackness
 * Released under the MIT License.
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t,e=require("react"),r=(t=e)&&"object"==typeof t&&"default"in t?t.default:t,n=require("svga.lite"),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},c=function(){return(c=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};var u,a=function(t){function e(e){var r=t.call(this,e)||this;return r.state={hasError:!1},r}return function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.getDerivedStateFromError=function(){return{hasError:!0}},e.prototype.componentDidCatch=function(t){var e=this.props.onError;this.setState({hasError:!0}),e&&e(t)},e.prototype.render=function(){return this.state.hasError?r.createElement(r.Fragment,null):this.props.children},e}(r.Component);(u=exports.EVENT_TYPES||(exports.EVENT_TYPES={})).START="start",u.PROCESS="process",u.PAUSE="pause",u.STOP="stop",u.END="end",u.CLEAR="clear";var s=e.memo((function(t){var o=t.src,c=t.on,u=t.stop,a=t.option,s=t.className,i=e.useRef(null),f=e.useState(),E=f[0],l=f[1],p=e.useState(),T=p[0],S=p[1];return e.useEffect((function(){if(i.current){var t=new n.Player(i.current);return l(t),function(){t.clear()}}}),[i]),e.useEffect((function(){E&&c&&(E.$on(exports.EVENT_TYPES.CLEAR,(function(){c(exports.EVENT_TYPES.CLEAR)})),E.$on(exports.EVENT_TYPES.END,(function(){c(exports.EVENT_TYPES.END)})),E.$on(exports.EVENT_TYPES.PAUSE,(function(){c(exports.EVENT_TYPES.PAUSE)})),E.$on(exports.EVENT_TYPES.PROCESS,(function(){c(exports.EVENT_TYPES.PROCESS)})),E.$on(exports.EVENT_TYPES.START,(function(){c(exports.EVENT_TYPES.START)})),E.$on(exports.EVENT_TYPES.STOP,(function(){c(exports.EVENT_TYPES.STOP)})))}),[E,c]),e.useEffect((function(){E&&T&&(E.clear(),u||(a&&E.set(a),E.mount(T),E.start()))}),[E,a,T,u]),e.useEffect((function(){(function(t){return e=this,r=void 0,c=function(){var e,r;return function(t,e){var r,n,o,c,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&c[0]?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return u.label++,{value:c[1],done:!1};case 5:u.label++,n=c[1],c=[0];continue;case 7:c=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){u=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){u.label=c[1];break}if(6===c[0]&&u.label<o[1]){u.label=o[1],o=c;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(c);break}o[2]&&u.ops.pop(),u.trys.pop();continue}c=e.call(t,u)}catch(t){c=[6,t],n=0}finally{r=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}}(this,(function(o){switch(o.label){case 0:return e=new n.Parser,[4,(new n.Downloader).get(t)];case 1:return r=o.sent(),[4,e.do(r)];case 2:return[2,o.sent()]}}))},new((o=void 0)||(o=Promise))((function(t,n){function u(t){try{s(c.next(t))}catch(t){n(t)}}function a(t){try{s(c.throw(t))}catch(t){n(t)}}function s(e){var r;e.done?t(e.value):(r=e.value,r instanceof o?r:new o((function(t){t(r)}))).then(u,a)}s((c=c.apply(e,r||[])).next())}));var e,r,o,c})(o).then((function(t){S(t)}))}),[o]),r.createElement("canvas",{ref:i,className:s})}),(function(t,e){return t.src===e.src}));exports.Svga=function(t){return r.createElement(a,{onError:t.onError},r.createElement(s,c({},t)))},exports.SvgaAvt=s;
